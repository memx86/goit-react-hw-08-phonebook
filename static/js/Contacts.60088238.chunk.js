"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[315],{7500:function(t,e,n){n.d(e,{Z:function(){return j}});var a=n(5861),r=n(885),s=n(7757),c=n.n(s),i=n(2791),o=n(577),l=n(6871),u=n(4966),d="ContactForm_form__dhl+T",m="ContactForm_edit__pQ0uo ContactForm_form__dhl+T",p="ContactForm_label__-cVXI",_="ContactForm_labelEdit__x6dts ContactForm_label__-cVXI",h="ContactForm_input__Bl93P",v="ContactForm_inputEdit__oTXNa ContactForm_input__Bl93P",f="ContactForm_btn__wll+u",x=n(7459),b=n(3329);var j=function(t){var e=t.type,n=t.id,s=t.initialName,j=void 0===s?"":s,C=t.initialNumber,N=void 0===C?"":C,y=t.setEdit,g=(0,i.useState)(j),w=(0,r.Z)(g,2),k=w[0],A=w[1],F=(0,i.useState)(N),Z=(0,r.Z)(F,2),E=Z[0],I=Z[1],z=(0,l.s0)(),B=(0,u.Jx)().data,S=null===B||void 0===B?void 0:B.map((function(t){return t.name})),T=(0,u.Tn)(),X=(0,r.Z)(T,1)[0],L=(0,u.wv)(),M=(0,r.Z)(L,1)[0],P=function(t){var e=t.target.name,n=t.target.value;switch(e){case"name":return void A(n);case"number":return void I(n);default:return}},J=function(){var t=(0,a.Z)(c().mark((function t(e,n){var a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!S.includes(e)){t.next=3;break}return o.Am.error("".concat(e," is already in contacts!")),t.abrupt("return");case 3:return t.next=5,X({name:e,number:n}).unwrap();case 5:(a=t.sent).id&&(o.Am.success("".concat(e," was added to contacts")),z("/contacts")),a.message&&o.Am.error("Can't add ".concat(e," to contacts, please try again"));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),K=function(){var t=(0,a.Z)(c().mark((function t(e,a){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M({id:n,name:e,number:a}).unwrap();case 2:(r=t.sent).id&&(o.Am.success("".concat(e," was successfully updated")),z("/contacts")),r.message&&o.Am.error("Can't update ".concat(e,", please try again"));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),V=function(){var t=(0,a.Z)(c().mark((function t(n){var a,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=n.target.name.value,r=n.target.number.value,"Add"===e&&J(a,r),"Edit"===e&&K(a,r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,b.jsxs)("form",{className:"Add"===e?d:m,onSubmit:V,children:[(0,b.jsxs)("label",{className:"Add"===e?p:_,children:["Name",(0,b.jsx)("input",{className:"Add"===e?h:v,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:" ",required:!0,value:k,onInput:P})]}),(0,b.jsxs)("label",{className:"Add"===e?p:_,children:["Number",(0,b.jsx)("input",{className:"Add"===e?h:v,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:" ",required:!0,value:E,onInput:P})]}),(0,b.jsxs)("span",{children:[(0,b.jsx)("button",{className:f,type:"submit",children:"Save"}),"Edit"===e&&(0,b.jsx)(x.Z,{text:"Cancel",onClick:function(){return y(!1)}})]})]})}},7718:function(t,e,n){n.r(e),n.d(e,{default:function(){return F}});var a=n(2791),r=n(6871),s=n(2978),c=n(2036),i="Filter_filter__vxThR",o="Filter_label__vEd1E",l="Filter_input__N7T3z",u=n(3329);var d=function(){var t=(0,s.v9)(c.zK),e=(0,s.I0)();return(0,u.jsx)("div",{className:i,children:(0,u.jsxs)("label",{className:o,children:["Find contacts by Name",(0,u.jsx)("input",{className:l,type:"text",placeholder:" ",value:t,onChange:function(t){var n=t.target.value;e((0,c.M6)(n))}})]})})},m=n(2134),p="IconButton_btn__PoeXD";var _=function(t){var e=t.type,n=void 0===e?"button":e,a=t.icon,r=t.onClick;switch(a){case"add":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"add contact",onClick:r,children:(0,u.jsx)(m.OzW,{style:{width:"40",height:"40",color:"green"}})});case"del":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"delete contact",onClick:r,children:(0,u.jsx)(m.LHV,{style:{width:"30",height:"30",color:"red"}})});case"edit":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"edit contact",onClick:r,children:(0,u.jsx)(m.$iz,{style:{width:"30",height:"30",color:"gray"}})});case"ok":return(0,u.jsx)("button",{type:n,className:p,"aria-label":"edit contact",onClick:r,children:(0,u.jsx)(m.mny,{style:{width:"30",height:"30",color:"green"}})});default:return(0,u.jsx)("button",{type:n,"aria-label":"button"})}},h=n(4966),v=n(9385),f=n(885),x=n(577),b=n(7500),j="ContactItem_item__gxreB",C="ContactItem_name__XjpNK",N="ContactItem_number__mfZ8x",y="ContactItem_btns__vCBZ0";var g=function(t){var e=t.name,n=t.number,r=t.id,s=(0,a.useState)(!1),c=(0,f.Z)(s,2),i=c[0],o=c[1],l=(0,h.MG)(),d=(0,f.Z)(l,2),m=d[0],p=d[1],v=p.isSuccess,g=p.isError;return(0,a.useEffect)((function(){v&&x.Am.info("".concat(e," was removed from contacts")),g&&x.Am.error("Can't remove ".concat(e," from contacts, please try again"))}),[v,g,e]),i?(0,u.jsx)("li",{className:j,children:(0,u.jsx)(b.Z,{type:"Edit",setEdit:o,id:r,initialName:e,initialNumber:n})}):i?void 0:(0,u.jsxs)("li",{className:j,children:[(0,u.jsx)("span",{className:C,children:e}),(0,u.jsx)("span",{className:N,children:n}),(0,u.jsxs)("div",{className:y,children:[(0,u.jsx)(_,{icon:"edit",onClick:function(){return o(!0)}}),(0,u.jsx)(_,{icon:"del",onClick:function(){m(r)}})]})]})},w=n(6718),k="ContactList_list__csErn";var A=function(){var t,e=(0,s.v9)(v.M7),n=(0,h.Jx)(null,{skip:!e}),r=n.data,i=n.isFetching,o=null===(t=(0,s.v9)(c.zK))||void 0===t?void 0:t.toLowerCase().trim(),l=null===r||void 0===r?void 0:r.filter((function(t){return t.name.toLowerCase().includes(o)}));return i?(0,u.jsx)(w.Z,{}):(0,u.jsx)(a.Fragment,{children:(0,u.jsx)("ul",{className:k,children:(null===l||void 0===l?void 0:l.length)>0&&l.map((function(t){var e=t.id,n=t.name,a=t.number;return(0,u.jsx)(g,{name:n,number:a,id:e},e)}))})})};var F=function(){var t=(0,r.s0)();return(0,u.jsxs)(a.Fragment,{children:[(0,u.jsx)("h2",{children:"Contacts"}),(0,u.jsx)(_,{icon:"add",onClick:function(){return t("/add")}}),(0,u.jsx)(d,{}),(0,u.jsx)(A,{})]})}}}]);
//# sourceMappingURL=Contacts.60088238.chunk.js.map