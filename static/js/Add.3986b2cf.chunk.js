"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[116],{7500:function(t,e,n){n.d(e,{Z:function(){return w}});var a=n(5861),r=n(885),s=n(7757),c=n.n(s),o=n(2791),u=n(577),i=n(6871),d=n(4966),l="ContactForm_form__dhl+T",m="ContactForm_edit__pQ0uo ContactForm_form__dhl+T",p="ContactForm_label__-cVXI",_="ContactForm_labelEdit__x6dts ContactForm_label__-cVXI",f="ContactForm_input__Bl93P",h="ContactForm_inputEdit__oTXNa ContactForm_input__Bl93P",v="ContactForm_btn__wll+u",b=n(7459),x=n(3329);var w=function(t){var e=t.type,n=t.id,s=t.initialName,w=void 0===s?"":s,C=t.initialNumber,A=void 0===C?"":C,y=t.setEdit,g=(0,o.useState)(w),Z=(0,r.Z)(g,2),j=Z[0],F=Z[1],N=(0,o.useState)(A),k=(0,r.Z)(N,2),S=k[0],E=k[1],z=(0,i.s0)(),I=(0,d.Jx)().data,T=null===I||void 0===I?void 0:I.map((function(t){return t.name})),B=(0,d.Tn)(),P=(0,r.Z)(B,1)[0],X=(0,d.wv)(),q=(0,r.Z)(X,1)[0],J=function(t){var e=t.target.name,n=t.target.value;switch(e){case"name":return void F(n);case"number":return void E(n);default:return}},V=function(){var t=(0,a.Z)(c().mark((function t(e,n){var a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!T.includes(e)){t.next=3;break}return u.Am.error("".concat(e," is already in contacts!")),t.abrupt("return");case 3:return t.next=5,P({name:e,number:n}).unwrap();case 5:(a=t.sent).id&&(u.Am.success("".concat(e," was added to contacts")),z("/contacts")),a.message&&u.Am.error("Can't add ".concat(e," to contacts, please try again"));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),D=function(){var t=(0,a.Z)(c().mark((function t(e,a){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q({id:n,name:e,number:a}).unwrap();case 2:(r=t.sent).id&&(u.Am.success("".concat(e," was successfully updated")),z("/contacts")),r.message&&u.Am.error("Can't update ".concat(e,", please try again"));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),M=function(){var t=(0,a.Z)(c().mark((function t(n){var a,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=n.target.name.value,r=n.target.number.value,"Add"===e&&V(a,r),"Edit"===e&&D(a,r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,x.jsxs)("form",{className:"Add"===e?l:m,onSubmit:M,children:[(0,x.jsxs)("label",{className:"Add"===e?p:_,children:["Name",(0,x.jsx)("input",{className:"Add"===e?f:h,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:" ",required:!0,value:j,onInput:J})]}),(0,x.jsxs)("label",{className:"Add"===e?p:_,children:["Number",(0,x.jsx)("input",{className:"Add"===e?f:h,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:" ",required:!0,value:S,onInput:J})]}),(0,x.jsxs)("span",{children:[(0,x.jsx)("button",{className:v,type:"submit",children:"Save"}),"Edit"===e&&(0,x.jsx)(b.Z,{text:"Cancel",onClick:function(){return y(!1)}})]})]})}},8607:function(t,e,n){n.r(e);var a=n(7500),r=n(3329);e.default=function(){return(0,r.jsx)(a.Z,{type:"Add"})}},1516:function(t,e,n){n.r(e);var a=n(2791),r=n(9363),s=n(5025),c=n(3329);e.default=function(){return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(r.Z,{type:"Signup"}),(0,c.jsx)(s.Z,{type:"Signup"})]})}}}]);
//# sourceMappingURL=Add.3986b2cf.chunk.js.map